{
  "name": "github-oidc",
  "$schema": "../node_modules/nx/schemas/project-schema.json",
  "projectType": "application",
  "tags": ["type:app"],
  "targets": {
    "validate": {
      "command": "sam validate",
      "options": {
        "cwd": "github-oidc"
      }
    },
    "deploy": {
      "command": "sam deploy --stack-name=\"trackflix-live-oidc-$STAGE\" --tags Project=trackflix-live Owner=\"$STAGE\" Name=\"trackflix-live-$STAGE\" --parameter-overrides Stage=\"$STAGE\" GitHubOrgUser=\"$GITHUB_ORG_USER\" RepositoryName=\"$GITHUB_REPO_NAME\" OIDCAudience=\"$OIDC_AUDIENCE\" --no-fail-on-empty-changeset",
      "options": {
        "cwd": "github-oidc"
      }
    }
  }
}
